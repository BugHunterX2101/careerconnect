<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - CareerConnect</title>
    <style>
        /* Global styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            background-color: #000;
            color: #fff;
            min-height: 100vh;
            display: flex;
        }

        /* Profile sections */
        .profile-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(0, 247, 255, 0.1);
            transition: all 0.3s ease;
        }

        .profile-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.1);
        }

        .profile-section h2 {
            color: #00f7ff;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Header Actions */
        .header-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1rem 0;
        }

        .page-title {
            color: #00f7ff;
            font-size: 2.5rem;
            text-shadow: 0 0 10px rgba(0, 247, 255, 0.3);
        }

        .update-profile-btn {
            background: #00f7ff;
            color: #000;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-left: auto;
        }

        .update-profile-btn:hover {
            background: #00d8ff;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.2);
        }

        /* Add buttons */
        .add-button {
            background: rgba(0, 247, 255, 0.1);
            color: #00f7ff;
            border: 1px solid rgba(0, 247, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .add-button:hover {
            background: rgba(0, 247, 255, 0.2);
            transform: translateY(-2px);
        }

        /* Education and Experience items */
        .education-item, .experience-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border: 1px solid rgba(0, 247, 255, 0.1);
            transition: all 0.3s ease;
        }

        .education-item:hover, .experience-item:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.08);
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .item-title {
            color: #00f7ff;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .item-subtitle {
            color: #fff;
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .item-date {
            color: #888;
            font-size: 0.9rem;
        }

        /* Skills section */
        .skill-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
        }

        .skill-tag {
            background: rgba(0, 247, 255, 0.1);
            color: #00f7ff;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .skill-tag:hover {
            background: rgba(0, 247, 255, 0.2);
            transform: translateY(-2px);
        }

        .remove-skill {
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        .remove-skill:hover {
            opacity: 1;
            transform: rotate(90deg);
        }

        /* Social Links */
        .social-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .social-link {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            color: #fff;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: rgba(0, 247, 255, 0.1);
            transform: translateY(-2px);
        }

        .social-link svg {
            width: 24px;
            height: 24px;
            fill: #00f7ff;
        }

        /* Success message */
        .success-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 247, 255, 0.9);
            color: #000;
            padding: 1rem 2rem;
            border-radius: 8px;
            z-index: 1000;
            display: none;
            animation: slideIn 0.3s ease-out;
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.2);
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .main-content {
                margin-left: 0;
                padding: 1rem;
            }

            .sidebar {
                display: none;
            }

            .header-actions {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }

            .profile-section {
                padding: 1.5rem;
            }

            .social-links {
                grid-template-columns: 1fr;
            }
        }

        /* Sidebar styles */
        .sidebar {
            width: 250px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 2rem 0;
            border-right: 1px solid rgba(0, 247, 255, 0.1);
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            left: 0;
            top: 0;
        }

        .brand {
            color: #00f7ff;
            font-size: 1.5rem;
            text-align: center;
            margin-bottom: 3rem;
            text-shadow: 0 0 10px rgba(0, 247, 255, 0.5);
        }

        .nav-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-item {
            margin-bottom: 0.5rem;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 1rem 2rem;
            color: #888;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .nav-link:hover, .nav-link.active {
            color: #00f7ff;
            background: rgba(0, 247, 255, 0.1);
        }

        .nav-link svg {
            width: 20px;
            height: 20px;
            margin-right: 1rem;
        }

        .user-profile {
            display: flex;
            align-items: center;
            padding: 1rem 2rem;
            margin-top: auto;
            background: rgba(0, 247, 255, 0.05);
        }

        .profile-info {
            margin-left: 1rem;
        }

        .profile-name {
            color: #fff;
            font-size: 1rem;
        }

        .profile-role {
            color: #888;
            font-size: 0.8rem;
        }

        /* Main content adjustment */
        .main-content {
            margin-left: 250px;
            padding: 2rem;
            min-height: 100vh;
        }

        /* Grid Layout */
        .profile-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: rgba(0, 0, 0, 0.95);
            border: 1px solid rgba(0, 247, 255, 0.2);
            border-radius: 15px;
            padding: 2rem;
            width: 100%;
            max-width: 500px;
            position: relative;
            box-shadow: 0 0 20px rgba(0, 247, 255, 0.1);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(0, 247, 255, 0.1);
        }

        .modal-title {
            color: #00f7ff;
            font-size: 1.5rem;
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            color: #888;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            color: #00f7ff;
            transform: rotate(90deg);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            color: #00f7ff;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .form-input {
            width: 100%;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 247, 255, 0.2);
            border-radius: 8px;
            color: #fff;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #00f7ff;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 10px rgba(0, 247, 255, 0.1);
        }

        .date-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .submit-btn {
            width: 100%;
            padding: 1rem;
            background: #00f7ff;
            color: #000;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .submit-btn:hover {
            background: #00d8ff;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.2);
        }

        /* Card Styles */
        .profile-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 1.5rem;
            border: 1px solid rgba(0, 247, 255, 0.1);
            height: 100%;
            transition: all 0.3s ease;
        }

        .profile-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.1);
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .profile-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .modal-content {
                padding: 1.5rem;
                margin: 1rem;
            }

            .date-inputs {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <h1 class="brand">CareerConnect</h1>
        <ul class="nav-menu">
            <li class="nav-item">
                <a href="./dashboard.html" class="nav-link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                    </svg>
                    Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a href="./profile.html" class="nav-link active">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                    Profile
                </a>
            </li>
            <li class="nav-item">
                <a href="./jobs.html" class="nav-link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"/>
                    </svg>
                    Jobs
                </a>
            </li>
            <li class="nav-item">
                <a href="./applications.html" class="nav-link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
                    </svg>
                    Applications
                </a>
            </li>
            <li class="nav-item">
                <a href="./messages.html" class="nav-link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>
                    </svg>
                    Messages
                </a>
            </li>
            <li class="nav-item">
                <a href="./settings.html" class="nav-link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                    </svg>
                    Settings
                </a>
            </li>
        </ul>
        <div class="user-profile">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#00f7ff" width="32" height="32">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
            <div class="profile-info">
                <div class="profile-name" id="userName">Loading...</div>
                <div class="profile-role" id="userRole">Loading...</div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="header-actions">
            <h1 class="page-title">My Profile</h1>
            <button class="update-profile-btn" onclick="updateProfile()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20" style="margin-right: 8px;">
                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                </svg>
                Update Profile
            </button>
        </div>

        <div class="profile-grid">
            <!-- Education Section -->
            <div class="profile-card">
                <h2>
                    Education
                    <button class="add-button" onclick="openModal('education')">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16" style="margin-right: 4px;">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                        </svg>
                        Add Education
                    </button>
                </h2>
                <div id="educationList">
                    <!-- Education items will be dynamically added here -->
                </div>
            </div>

            <!-- Work Experience Section -->
            <div class="profile-card">
                <h2>
                    Work Experience
                    <button class="add-button" onclick="openModal('experience')">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16" style="margin-right: 4px;">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                        </svg>
                        Add Experience
                    </button>
                </h2>
                <div id="experienceList">
                    <!-- Experience items will be dynamically added here -->
                </div>
            </div>

            <!-- Skills Section -->
            <div class="profile-card">
                <h2>
                    Skills
                    <button class="add-button" onclick="openModal('skill')">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16" style="margin-right: 4px;">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                        </svg>
                        Add Skill
                    </button>
                </h2>
                <div class="skill-tags" id="skillsList">
                    <!-- Skills will be dynamically added here -->
                </div>
            </div>

            <!-- Social Links Section -->
            <div class="profile-card">
                <h2>Social Links</h2>
                <div class="social-links">
                    <a href="#" class="social-link" id="linkedinLink">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/>
                        </svg>
                        LinkedIn
                    </a>
                    <a href="#" class="social-link" id="githubLink">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                        GitHub
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Education Modal -->
    <div class="modal" id="educationModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add Education</h2>
                <button class="modal-close" onclick="closeModal('education')">&times;</button>
            </div>
            <form id="educationForm" onsubmit="submitEducation(event)">
                <div class="form-group">
                    <label for="school">School/University</label>
                    <input type="text" id="school" class="form-input" required placeholder="Start typing to see suggestions">
                </div>
                <div class="form-group">
                    <label for="degree">Degree</label>
                    <input type="text" id="degree" class="form-input" required placeholder="Start typing to see suggestions">
                </div>
                <div class="form-group">
                    <label for="field">Field of Study</label>
                    <input type="text" id="field" class="form-input" required placeholder="Start typing to see suggestions">
                </div>
                <div class="form-group">
                    <label for="eduStartDate">Start Date</label>
                    <input type="date" id="eduStartDate" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="eduEndDate">End Date</label>
                    <input type="date" id="eduEndDate" class="form-input">
                </div>
                <button type="submit" class="submit-btn">Save Education</button>
            </form>
        </div>
    </div>

    <!-- Experience Modal -->
    <div class="modal" id="experienceModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add Experience</h2>
                <button class="modal-close" onclick="closeModal('experience')">&times;</button>
            </div>
            <form id="experienceForm" onsubmit="submitExperience(event)">
                <div class="form-group">
                    <label for="company">Company</label>
                    <input type="text" id="company" class="form-input" required placeholder="Start typing to see suggestions">
                </div>
                <div class="form-group">
                    <label for="position">Position</label>
                    <input type="text" id="position" class="form-input" required placeholder="Start typing to see suggestions">
                </div>
                <div class="form-group">
                    <label for="experienceLevel">Experience Level</label>
                    <select id="experienceLevel" class="experience-level" required>
                        <option value="">Select Experience Level</option>
                        ${experienceLevels.map(level => 
                            `<option value="${level}">${level}</option>`
                        ).join('')}
                    </select>
                </div>
                <div class="form-group">
                    <label for="expStartDate">Start Date</label>
                    <input type="date" id="expStartDate" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="expEndDate">End Date</label>
                    <input type="date" id="expEndDate" class="form-input">
                </div>
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" class="form-input" rows="4"></textarea>
                </div>
                <button type="submit" class="submit-btn">Save Experience</button>
            </form>
        </div>
    </div>

    <!-- Skills Modal -->
    <div class="modal" id="skillModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add Skill</h2>
                <button class="modal-close" onclick="closeModal('skill')">&times;</button>
            </div>
            <form id="skillForm" onsubmit="submitSkill(event)">
                <div class="form-group">
                    <label for="skillName">Skill Name</label>
                    <input type="text" id="skillName" class="form-input" required placeholder="Start typing to see suggestions">
                </div>
                <button type="submit" class="submit-btn">Add Skill</button>
            </form>
        </div>
    </div>

    <!-- Success Message -->
    <div class="success-message" id="successMessage">
        Profile updated successfully!
    </div>

    <script>
        // Sample data structure
        let profileData = {
            education: [],
            experience: [],
            skills: [],
            social: {
                linkedin: '',
                github: ''
            }
        };

        // Predefined options
        const universities = [
            // Top Global Universities
            'Massachusetts Institute of Technology (MIT)', 'Stanford University', 'Harvard University',
            'California Institute of Technology', 'University of Oxford', 'University of Cambridge',
            'ETH Zurich', 'Imperial College London', 'National University of Singapore', 'Tsinghua University',

            // Top Indian Institutes of Technology (IITs)
            'Indian Institute of Technology Bombay', 'Indian Institute of Technology Delhi',
            'Indian Institute of Technology Madras', 'Indian Institute of Technology Kanpur',
            'Indian Institute of Technology Kharagpur', 'Indian Institute of Technology Roorkee',
            'Indian Institute of Technology Guwahati', 'Indian Institute of Technology Hyderabad',
            'Indian Institute of Technology Indore', 'Indian Institute of Technology Gandhinagar',
            'Indian Institute of Technology Patna', 'Indian Institute of Technology Bhubaneswar',
            'Indian Institute of Technology Jodhpur', 'Indian Institute of Technology Mandi',
            'Indian Institute of Technology Varanasi (BHU)', 'Indian Institute of Technology Palakkad',
            'Indian Institute of Technology Tirupati', 'Indian Institute of Technology Bhilai',
            'Indian Institute of Technology Dharwad', 'Indian Institute of Technology Jammu',

            // Indian Institutes of Management (IIMs)
            'Indian Institute of Management Ahmedabad', 'Indian Institute of Management Bangalore',
            'Indian Institute of Management Calcutta', 'Indian Institute of Management Lucknow',
            'Indian Institute of Management Kozhikode', 'Indian Institute of Management Indore',
            'Indian Institute of Management Tiruchirappalli', 'Indian Institute of Management Ranchi',
            'Indian Institute of Management Raipur', 'Indian Institute of Management Rohtak',
            'Indian Institute of Management Kashipur', 'Indian Institute of Management Udaipur',
            'Indian Institute of Management Nagpur', 'Indian Institute of Management Amritsar',
            'Indian Institute of Management Bodh Gaya', 'Indian Institute of Management Sirmaur',
            'Indian Institute of Management Visakhapatnam', 'Indian Institute of Management Sambalpur',
            'Indian Institute of Management Jammu',

            // National Institutes of Technology (NITs)
            'National Institute of Technology Tiruchirappalli', 'National Institute of Technology Rourkela',
            'National Institute of Technology Karnataka', 'National Institute of Technology Calicut',
            'National Institute of Technology Warangal', 'National Institute of Technology Durgapur',
            'National Institute of Technology Silchar', 'National Institute of Technology Hamirpur',
            'National Institute of Technology Jamshedpur', 'National Institute of Technology Kurukshetra',
            'National Institute of Technology Patna', 'National Institute of Technology Raipur',
            'National Institute of Technology Srinagar', 'National Institute of Technology Agartala',
            'National Institute of Technology Delhi', 'National Institute of Technology Goa',
            'National Institute of Technology Manipur', 'National Institute of Technology Meghalaya',
            'National Institute of Technology Nagaland', 'National Institute of Technology Puducherry',
            'National Institute of Technology Sikkim', 'National Institute of Technology Arunachal Pradesh',
            'National Institute of Technology Uttarakhand', 'National Institute of Technology Mizoram',
            'National Institute of Technology Andhra Pradesh',

            // Other Premier Indian Institutions
            'All India Institute of Medical Sciences Delhi', 'Jawaharlal Nehru University',
            'Delhi University', 'Banaras Hindu University', 'Anna University',
            'Jadavpur University', 'Aligarh Muslim University', 'Birla Institute of Technology and Science',
            'Indian Statistical Institute', 'National Law School of India University',
            'Christian Medical College Vellore', 'Manipal Academy of Higher Education',
            'Savitribai Phule Pune University', 'Jamia Millia Islamia', 'University of Hyderabad',
            'Tata Institute of Social Sciences', 'Indian Institute of Science',
            'National Institute of Design', 'National Institute of Fashion Technology',
            'Xavier Labour Relations Institute', 'Indian School of Business',
            'National Institute of Mental Health and Neurosciences',

            // Top US Universities
            'Princeton University', 'Yale University', 'Columbia University', 'University of Chicago',
            'University of Pennsylvania', 'Johns Hopkins University', 'Northwestern University',
            'Duke University', 'Dartmouth College', 'Brown University', 'Vanderbilt University',
            'Rice University', 'Washington University in St. Louis', 'Cornell University',
            'University of Notre Dame', 'University of California Berkeley', 'University of California Los Angeles',
            'University of Michigan', 'University of Virginia', 'Georgia Institute of Technology',
            'University of Illinois Urbana-Champaign', 'University of Wisconsin-Madison',
            'University of Texas at Austin', 'University of Washington', 'University of Maryland',
            'Pennsylvania State University', 'Ohio State University', 'Purdue University',
            'University of Minnesota', 'University of Florida',

            // Top UK Universities
            'University College London', 'London School of Economics', 'University of Edinburgh',
            'University of Manchester', 'Kings College London', 'University of Bristol',
            'University of Warwick', 'University of Glasgow', 'Durham University',
            'University of Sheffield', 'University of Birmingham', 'University of Leeds',
            'University of Southampton', 'University of Nottingham', 'Cardiff University',
            'Queen Mary University of London', 'University of Liverpool', 'University of York',
            'University of East Anglia', 'University of Essex',

            // Top Canadian Universities
            'University of Toronto', 'University of British Columbia', 'McGill University',
            'University of Montreal', 'University of Alberta', 'McMaster University',
            'University of Waterloo', 'Western University', 'University of Ottawa',
            'University of Calgary', 'Queens University', 'Simon Fraser University',
            'University of Victoria', 'Dalhousie University', 'York University',

            // Top Australian Universities
            'University of Melbourne', 'Australian National University', 'University of Sydney',
            'University of Queensland', 'University of New South Wales', 'Monash University',
            'University of Western Australia', 'University of Adelaide', 'University of Technology Sydney',
            'Macquarie University', 'RMIT University', 'Curtin University',
            'Queensland University of Technology', 'University of Wollongong', 'Deakin University',

            // Top European Universities
            'ETH Zurich', 'Technical University of Munich', 'Delft University of Technology',
            'KU Leuven', 'EPFL', 'University of Amsterdam', 'Uppsala University',
            'Technical University of Denmark', 'University of Helsinki', 'University of Copenhagen',
            'Karolinska Institute', 'Trinity College Dublin', 'University of Oslo',
            'Wageningen University', 'Technical University of Berlin', 'University of Vienna',
            'University of Barcelona', 'University of Milan', 'University of Stockholm',
            'University of Geneva',

            // Additional Indian Universities
            'University of Delhi', 'University of Mumbai', 'University of Calcutta',
            'University of Madras', 'University of Pune', 'University of Hyderabad',
            'Osmania University', 'Andhra University', 'Bangalore University',
            'Mysore University', 'Kerala University', 'Calicut University',
            'Cochin University of Science and Technology', 'Mahatma Gandhi University',
            'Bharathiar University', 'Bharathidasan University', 'Annamalai University',
            'Madurai Kamaraj University', 'Tamil Nadu Agricultural University',
            'Anna University Chennai', 'SRM University', 'VIT University',
            'Amrita Vishwa Vidyapeetham', 'Lovely Professional University',
            'Chandigarh University', 'Panjab University', 'Guru Nanak Dev University',
            'Punjabi University', 'Thapar University', 'Kurukshetra University',
            'Maharshi Dayanand University', 'Chaudhary Charan Singh University',
            'Aligarh Muslim University', 'Banaras Hindu University', 'Allahabad University',
            'Lucknow University', 'Gorakhpur University', 'Kumaun University',
            'Garhwal University', 'Himachal Pradesh University', 'Jammu University',
            'Kashmir University', 'North Eastern Hill University', 'Gauhati University',
            'Dibrugarh University', 'Assam University', 'Manipur University',
            'Mizoram University', 'Nagaland University', 'Sikkim University',
            'Tripura University', 'Visva-Bharati University', 'Jadavpur University',
            'Kalyani University', 'North Bengal University', 'Vidyasagar University',
            'Utkal University', 'Sambalpur University', 'Berhampur University',
            'Ravenshaw University', 'Ranchi University', 'Patna University',
            'Magadh University', 'Nalanda University', 'Gujarat University',
            'Maharaja Sayajirao University of Baroda', 'Sardar Patel University',
            'Saurashtra University', 'South Gujarat University', 'Rajasthan University',
            'Mohanlal Sukhadia University', 'Jai Narain Vyas University',
            'Maharshi Dayanand Saraswati University', 'Dr. Babasaheb Ambedkar Marathwada University',
            'Sant Gadge Baba Amravati University', 'Rashtrasant Tukadoji Maharaj Nagpur University',
            'Shivaji University', 'Solapur University', 'North Maharashtra University',
            'Kannada University', 'Gulbarga University', 'Mangalore University',
            'Kuvempu University', 'Tumkur University', 'Visvesvaraya Technological University',
            'Bangalore University', 'Karnataka State Open University', 'University of Agricultural Sciences',
            'Rajiv Gandhi University of Health Sciences', 'Dravidian University',
            'Sri Venkateswara University', 'Acharya Nagarjuna University',
            'Dr. B.R. Ambedkar Open University', 'Jawaharlal Nehru Technological University',
            'Kakatiya University', 'Mahatma Gandhi University, Nalgonda',
            'Palamuru University', 'Potti Sreeramulu Telugu University',
            'Rayalaseema University', 'Satavahana University', 'Telangana University',
            'Vikrama Simhapuri University', 'Yogi Vemana University',

            // Additional US Universities
            'University of Colorado Boulder', 'University of Arizona', 'Arizona State University',
            'University of Utah', 'University of Oregon', 'Oregon State University',
            'University of Iowa', 'Iowa State University', 'University of Kansas',
            'Kansas State University', 'University of Kentucky', 'University of Louisville',
            'Louisiana State University', 'University of Maine', 'University of Massachusetts Amherst',
            'University of Mississippi', 'Mississippi State University', 'University of Missouri',
            'University of Nebraska-Lincoln', 'University of Nevada, Las Vegas',
            'University of New Hampshire', 'Rutgers University', 'University of New Mexico',
            'New Mexico State University', 'University of North Carolina at Chapel Hill',
            'North Carolina State University', 'University of North Dakota',
            'North Dakota State University', 'Oklahoma State University',
            'University of Rhode Island', 'University of South Carolina',
            'South Carolina State University', 'University of South Dakota',
            'South Dakota State University', 'University of Tennessee',
            'Tennessee State University', 'Texas Tech University',
            'University of Vermont', 'Virginia Tech', 'West Virginia University',
            'University of Wyoming', 'University of Alaska Fairbanks',
            'University of Hawaii at Manoa', 'University of Idaho',
            'Montana State University', 'University of Montana',
            'University of Nevada, Reno', 'University of Toledo',
            'Wright State University', 'Youngstown State University',

            // Additional UK Universities
            'Aston University', 'Brunel University London', 'City, University of London',
            'Goldsmiths, University of London', 'Heriot-Watt University',
            'Keele University', 'Kingston University', 'Lancaster University',
            'Loughborough University', 'Oxford Brookes University',
            'Royal Holloway, University of London', 'SOAS University of London',
            'Swansea University', 'University of Aberdeen', 'University of Bath',
            'University of Dundee', 'University of East London', 'University of Greenwich',
            'University of Hertfordshire', 'University of Hull', 'University of Kent',
            'University of Leicester', 'University of Lincoln', 'University of Reading',
            'University of Salford', 'University of St Andrews', 'University of Stirling',
            'University of Strathclyde', 'University of Surrey', 'University of Sussex',
            'University of Ulster', 'University of Westminster',

            // Additional European Universities
            'Aarhus University', 'University of Amsterdam', 'University of Antwerp',
            'University of Athens', 'University of Basel', 'University of Bergen',
            'Free University of Berlin', 'Humboldt University of Berlin',
            'University of Bern', 'University of Bologna', 'University of Bordeaux',
            'University of Bremen', 'Catholic University of Leuven',
            'University of Cologne', 'University of Copenhagen', 'Dublin City University',
            'Trinity College Dublin', 'University College Dublin',
            'Technical University of Dortmund', 'Dresden University of Technology',
            'University of Dublin', 'University of Duisburg-Essen',
            'University of Florence', 'University of Freiburg',
            'University of Ghent', 'University of Göttingen',
            'University of Groningen', 'University of Hamburg',
            'Heidelberg University', 'University of Helsinki',
            'University of Iceland', 'University College Ireland',
            'University of Lausanne', 'University of Leipzig',
            'Catholic University of Louvain', 'University of Luxembourg',
            'University of Lyon', 'University of Maastricht',
            'University of Madrid', 'University of Mainz',
            'University of Mannheim', 'University of Marburg',
            'University of Milan', 'University of Munich',
            'University of Münster', 'University of Naples Federico II',
            'University of Oslo', 'University of Padua',
            'University of Palermo', 'University of Paris',
            'University of Pisa', 'University of Porto',
            'University of Rome', 'University of Rotterdam',
            'University of Salamanca', 'University of Seville',
            'University of Stockholm', 'University of Stuttgart',
            'University of Turin', 'Utrecht University',
            'University of Valencia', 'University of Vienna',
            'University of Warsaw', 'University of Zurich',

            // Additional Asian Universities
            'Peking University', 'Fudan University', 'Shanghai Jiao Tong University',
            'Zhejiang University', 'Nanjing University', 'Wuhan University',
            'Sun Yat-sen University', 'University of Hong Kong',
            'Chinese University of Hong Kong', 'Hong Kong University of Science and Technology',
            'National Taiwan University', 'Seoul National University',
            'Korea Advanced Institute of Science and Technology',
            'Yonsei University', 'Korea University', 'Kyoto University',
            'Osaka University', 'Tokyo Institute of Technology',
            'Tohoku University', 'Nagoya University', 'Hokkaido University',
            'Nanyang Technological University', 'Universiti Malaya',
            'Universiti Putra Malaysia', 'Universiti Sains Malaysia',
            'Universiti Teknologi Malaysia', 'Chulalongkorn University',
            'Mahidol University', 'University of the Philippines',
            'University of Indonesia', 'Institut Teknologi Bandung',
            'Universitas Gadjah Mada', 'Vietnam National University',
            'Hanoi University of Science and Technology',

            // COMEDK Colleges in Karnataka
            'R.V. College of Engineering, Bangalore',
            'B.M.S. College of Engineering, Bangalore',
            'M.S. Ramaiah Institute of Technology, Bangalore',
            'PES University, Bangalore',
            'Dayananda Sagar College of Engineering, Bangalore',
            'JSS Academy of Technical Education, Bangalore',
            'Nitte Meenakshi Institute of Technology, Bangalore',
            'Sir M. Visvesvaraya Institute of Technology, Bangalore',
            'B.N.M. Institute of Technology, Bangalore',
            'K.S. Institute of Technology, Bangalore',
            'New Horizon College of Engineering, Bangalore',
            'Cambridge Institute of Technology, Bangalore',
            'East Point College of Engineering and Technology, Bangalore',
            'Global Academy of Technology, Bangalore',
            'Don Bosco Institute of Technology, Bangalore',
            'AMC Engineering College, Bangalore',
            'ACS College of Engineering, Bangalore',
            'Bangalore Institute of Technology, Bangalore',
            'Sri Venkateshwara College of Engineering, Bangalore',
            'Acharya Institute of Technology, Bangalore',
            'Alliance University (School of Engineering), Bangalore',
            'CMR Institute of Technology, Bangalore',
            'Reva University, Bangalore',
            'RNS Institute of Technology, Bangalore',
            'Atria Institute of Technology, Bangalore',
            'HKBK College of Engineering, Bangalore',
            'Impact College of Engineering and Applied Sciences, Bangalore',
            'Jyothy Institute of Technology, Bangalore',
            'KNS Institute of Technology, Bangalore',
            'MVJ College of Engineering, Bangalore',
            'Nagarjuna College of Engineering & Technology, Bangalore',
            'Rajiv Gandhi Institute of Technology, Bangalore',
            'Sapthagiri College of Engineering, Bangalore',
            'SEA College of Engineering and Technology, Bangalore',
            'Sri Krishna Institute of Technology, Bangalore',
            'Sri Revana Siddeshwara Institute of Technology, Bangalore',
            'The Oxford College of Engineering, Bangalore',
            'Vemana Institute of Technology, Bangalore',
            'Vidya Vikas Institute of Engineering & Technology, Mysore',
            'Sri Jayachamarajendra College of Engineering, Mysore',
            'The National Institute of Engineering, Mysore',
            'Malnad College of Engineering, Hassan',
            'P.E.S. College of Engineering, Mandya',
            'Siddaganga Institute of Technology, Tumkur',
            'Sri Siddhartha Institute of Technology, Tumkur',
            'Manipal Institute of Technology, Manipal',
            'KLE Technological University (formerly BVBCET), Hubli',
            'Basaveshwar Engineering College, Bagalkot',
            'KLS Gogte Institute of Technology, Belgaum',
            'SDM College of Engineering and Technology, Dharwad',
            'Bapuji Institute of Engineering & Technology, Davangere',
            'GM Institute of Technology, Davangere',
            'NMAM Institute of Technology, Nitte',
            'Canara Engineering College, Mangalore',
            'P A College of Engineering, Mangalore',
            'St Joseph Engineering College, Mangalore',
            'Mangalore Institute of Technology & Engineering, Mangalore',
            'Shri Madhwa Vadiraja Institute of Technology & Management, Udupi',
            'Tontadarya College of Engineering, Gadag',
            'Angadi Institute of Technology and Management, Belgaum',
            'Jain College of Engineering, Belgaum',
            'Maratha Mandal Engineering College, Belgaum',
            'Hirasugar Institute of Technology, Belgaum',
            'SG Balekundri Institute of Technology, Belgaum',
            // ... (This list continues with many more universities)
        ];

        const degrees = [
            // Bachelor's Degrees
            'Bachelor of Science (BS)',
            'Bachelor of Arts (BA)',
            'Bachelor of Engineering (BE)',
            'Bachelor of Technology (BTech)',
            'Bachelor of Business Administration (BBA)',
            'Bachelor of Computer Applications (BCA)',
            'Bachelor of Fine Arts (BFA)',
            'Bachelor of Architecture (BArch)',
            
            // Master's Degrees
            'Master of Science (MS)',
            'Master of Arts (MA)',
            'Master of Engineering (ME)',
            'Master of Technology (MTech)',
            'Master of Business Administration (MBA)',
            'Master of Computer Applications (MCA)',
            'Master of Fine Arts (MFA)',
            'Master of Architecture (MArch)',
            'Master of Public Health (MPH)',
            'Master of Social Work (MSW)',
            
            // Doctoral Degrees
            'Doctor of Philosophy (PhD)',
            'Doctor of Science (DSc)',
            'Doctor of Engineering (DEng)',
            'Doctor of Business Administration (DBA)',
            
            // Professional Degrees
            'Associate Degree',
            'Diploma',
            'Professional Certification',
            'Vocational Training Certificate'
        ];

        const fields = [
            // Computer Science & IT
            'Computer Science',
            'Software Engineering',
            'Information Technology',
            'Data Science',
            'Artificial Intelligence',
            'Machine Learning',
            'Cybersecurity',
            'Cloud Computing',
            'Web Development',
            'Mobile App Development',
            
            // Engineering
            'Electrical Engineering',
            'Mechanical Engineering',
            'Civil Engineering',
            'Chemical Engineering',
            'Aerospace Engineering',
            'Biomedical Engineering',
            'Industrial Engineering',
            'Robotics Engineering',
            'Environmental Engineering',
            
            // Business & Management
            'Business Administration',
            'Finance',
            'Marketing',
            'Economics',
            'International Business',
            'Project Management',
            'Human Resource Management',
            'Supply Chain Management',
            
            // Science & Mathematics
            'Mathematics',
            'Physics',
            'Chemistry',
            'Biology',
            'Statistics',
            'Biotechnology',
            'Environmental Science',
            
            // Other Fields
            'Digital Marketing',
            'User Experience Design',
            'Product Management',
            'Data Analytics',
            'Business Intelligence'
        ];

        const companies = [
            // Global Tech Giants
            'Google', 'Microsoft', 'Apple', 'Amazon', 'Meta', 'Netflix', 'IBM', 'Intel', 'Oracle',
            'Salesforce', 'Adobe', 'VMware', 'SAP', 'Cisco', 'Dell Technologies', 'HP', 'Nvidia',
            'AMD', 'Qualcomm', 'Twitter', 'LinkedIn', 'Spotify', 'Uber', 'Airbnb', 'PayPal',
            'Square', 'Stripe', 'Shopify', 'Zoom', 'Slack',

            // Indian IT Companies
            'Tata Consultancy Services', 'Infosys', 'Wipro', 'HCL Technologies', 'Tech Mahindra',
            'L&T Infotech', 'Mindtree', 'Mphasis', 'Persistent Systems', 'Hexaware Technologies',
            'Cyient', 'Larsen & Toubro', 'Cognizant Technology Solutions', 'Capgemini India',
            'Accenture India', 'IBM India', 'Microsoft India', 'Google India', 'Amazon India',
            'Flipkart', 'Paytm', 'Zomato', 'Swiggy', 'Ola Cabs', 'Byju\'s', 'Unacademy',
            'PhonePe', 'Razorpay', 'Freshworks', 'InMobi',

            // Indian Conglomerates
            'Reliance Industries', 'Tata Group', 'Aditya Birla Group', 'Mahindra Group',
            'Godrej Group', 'Adani Group', 'JSW Group', 'Bharti Enterprises', 'Hero MotoCorp',
            'Bajaj Group', 'TVS Group', 'Hinduja Group', 'Vedanta Resources', 'ITC Limited',
            'Sun Pharmaceutical', 'Dr. Reddy\'s Laboratories', 'Cipla', 'Lupin Limited',
            'Biocon', 'Torrent Pharmaceuticals',

            // Global Consulting
            'McKinsey & Company', 'Boston Consulting Group', 'Bain & Company', 'Deloitte',
            'PwC', 'EY', 'KPMG', 'Accenture', 'Capgemini', 'Cognizant', 'Booz Allen Hamilton',
            'Oliver Wyman', 'A.T. Kearney', 'Roland Berger', 'Strategy&', 'L.E.K. Consulting',
            'FTI Consulting', 'Alvarez & Marsal', 'Grant Thornton', 'BDO',

            // Investment Banks & Financial Services
            'Goldman Sachs', 'JPMorgan Chase', 'Morgan Stanley', 'Bank of America',
            'Citigroup', 'Wells Fargo', 'BlackRock', 'State Street', 'Fidelity Investments',
            'Vanguard Group', 'Charles Schwab', 'American Express', 'Visa', 'Mastercard',
            'HSBC', 'Deutsche Bank', 'UBS', 'Credit Suisse', 'Barclays', 'Standard Chartered',

            // Indian Banks & Financial Services
            'State Bank of India', 'HDFC Bank', 'ICICI Bank', 'Axis Bank', 'Kotak Mahindra Bank',
            'Yes Bank', 'IndusInd Bank', 'Federal Bank', 'RBL Bank', 'IDFC First Bank',
            'Bandhan Bank', 'Bank of Baroda', 'Punjab National Bank', 'Canara Bank',
            'Union Bank of India', 'LIC India', 'HDFC Life', 'SBI Life Insurance',
            'ICICI Prudential', 'Bajaj Finserv',

            // E-commerce & Retail
            'Walmart', 'Target', 'Best Buy', 'Home Depot', 'Costco', 'CVS Health',
            'Walgreens Boots Alliance', 'Kroger', 'Alibaba', 'JD.com', 'Rakuten',
            'eBay', 'Etsy', 'Wayfair', 'Chewy', 'Coupang', 'Mercado Libre',
            'Pinduoduo', 'Sea Limited', 'Coles Group',

            // Automotive & Manufacturing
            'Tesla', 'Toyota', 'Volkswagen', 'BMW', 'Mercedes-Benz', 'General Motors',
            'Ford', 'Honda', 'Hyundai', 'Tata Motors', 'Maruti Suzuki', 'Mahindra & Mahindra',
            'Hero MotoCorp', 'Bajaj Auto', 'TVS Motor', 'Royal Enfield', 'Ashok Leyland',
            'Force Motors', 'Eicher Motors', 'Bharat Forge',

            // Healthcare & Pharmaceuticals
            'Johnson & Johnson', 'Pfizer', 'Roche', 'Novartis', 'Merck', 'GlaxoSmithKline',
            'AstraZeneca', 'Sanofi', 'Abbott Laboratories', 'Eli Lilly', 'Bristol Myers Squibb',
            'Gilead Sciences', 'Amgen', 'Biogen', 'Regeneron Pharmaceuticals', 'Vertex Pharmaceuticals',
            'Moderna', 'BioNTech', 'Serum Institute of India', 'Bharat Biotech',

            // Energy & Utilities
            'ExxonMobil', 'Shell', 'BP', 'Chevron', 'Total', 'Saudi Aramco', 'Gazprom',
            'Petrobras', 'Reliance Industries', 'Indian Oil Corporation', 'Bharat Petroleum',
            'Hindustan Petroleum', 'NTPC', 'Power Grid Corporation', 'Adani Power',
            'Tata Power', 'JSW Energy', 'ONGC', 'Coal India', 'Vedanta',

            // Additional Indian Startups & Tech Companies
            'Meesho', 'Cred', 'Groww', 'Zerodha', 'Dunzo', 'ShareChat',
            'UpGrad', 'Vedantu', 'Pharmeasy', 'Cars24', 'Lenskart',
            'Dailyhunt', 'PolicyBazaar', 'Delhivery', 'Moglix', 'OfBusiness',
            'Urban Company', 'Browserstack', 'Innovaccer', 'Postman',
            'Chargebee', 'Zenoti', 'Mindtickle', 'Icertis', 'Druva',
            'Hasura', 'Clevertap', 'Yellow.ai', 'Whatfix', 'Zoho',
            'Freshdesk', 'Kissflow', 'Facilio', 'Solarclue', 'Darwinbox',
            'Amagi', 'Tracxn', 'Haptik', 'Uniphore', 'Perfios',

            // Additional Global Tech Companies
            'Unity Technologies', 'Palantir Technologies', 'Snowflake',
            'Databricks', 'UiPath', 'Celonis', 'Automation Anywhere',
            'OutSystems', 'Auth0', 'Confluent', 'HashiCorp', 'GitLab',
            'JFrog', 'Elastic', 'MongoDB', 'Okta', 'Splunk', 'Datadog',
            'Cloudflare', 'Fastly', 'Twilio', 'Box', 'Dropbox', 'Slack',
            'Zoom', 'RingCentral', '8x8', 'Five9', 'Vonage', 'LogMeIn',

            // Additional Manufacturing & Industrial
            'Siemens', 'General Electric', 'Honeywell', 'ABB', '3M',
            'Caterpillar', 'Deere & Company', 'Emerson Electric',
            'Illinois Tool Works', 'Parker Hannifin', 'Rockwell Automation',
            'Cummins', 'Eaton', 'Dover Corporation', 'Fortive',
            'Roper Technologies', 'PACCAR', 'Ingersoll Rand',
            'Stanley Black & Decker', 'Xylem', 'Flowserve',

            // Additional Healthcare Companies
            'UnitedHealth Group', 'CVS Health', 'McKesson', 'AmerisourceBergen',
            'Cardinal Health', 'Anthem', 'Cigna', 'Humana', 'HCA Healthcare',
            'Centene', 'DaVita', 'Laboratory Corporation of America',
            'Quest Diagnostics', 'Universal Health Services', 'Tenet Healthcare',
            'Community Health Systems', 'Molina Healthcare', 'WellCare Health Plans',

            // Additional Financial Services
            'Berkshire Hathaway', 'Industrial and Commercial Bank of China',
            'China Construction Bank', 'Agricultural Bank of China',
            'Bank of China', 'Mitsubishi UFJ Financial Group',
            'Japan Post Bank', 'Sumitomo Mitsui Financial Group',
            'Mizuho Financial Group', 'BNP Paribas', 'Crédit Agricole',
            'Société Générale', 'Banco Santander', 'ING Group',
            'UniCredit', 'Intesa Sanpaolo', 'Credit Suisse Group',
            'Royal Bank of Canada', 'Toronto-Dominion Bank',
            'Bank of Montreal', 'Canadian Imperial Bank of Commerce',

            // Additional Retail & Consumer Goods
            'Procter & Gamble', 'Unilever', 'PepsiCo', 'Coca-Cola',
            'Nestlé', 'L\'Oréal', 'Nike', 'Adidas', 'H&M',
            'Inditex (Zara)', 'Fast Retailing (Uniqlo)', 'Gap',
            'TJX Companies', 'Ross Stores', 'Dollar General',
            'Dollar Tree', 'Tractor Supply Company', 'AutoZone',
            'O\'Reilly Auto Parts', 'Advance Auto Parts',

            // Additional Media & Entertainment
            'Walt Disney', 'Comcast', 'Netflix', 'ViacomCBS',
            'Fox Corporation', 'Discovery', 'Sony', 'Warner Bros. Discovery',
            'Live Nation Entertainment', 'iHeartMedia', 'Spotify',
            'Electronic Arts', 'Activision Blizzard', 'Take-Two Interactive',
            'Ubisoft', 'Square Enix', 'Bandai Namco', 'Konami',
            'Capcom', 'Nintendo',

            // Additional Telecommunications
            'AT&T', 'Verizon', 'T-Mobile', 'Deutsche Telekom',
            'Vodafone', 'Telefónica', 'Orange', 'América Móvil',
            'China Mobile', 'NTT', 'SoftBank Group', 'KDDI',
            'Bharti Airtel', 'Reliance Jio', 'Vodafone Idea',
            'Rogers Communications', 'BCE', 'Telus',

            // Additional Energy Companies
            'Saudi Aramco', 'PetroChina', 'Sinopec', 'Rosneft',
            'Lukoil', 'TotalEnergies', 'Eni', 'Equinor',
            'ConocoPhillips', 'Phillips 66', 'Valero Energy',
            'Marathon Petroleum', 'Enbridge', 'TC Energy',
            'Kinder Morgan', 'Williams Companies',

            // Additional Chemical Companies
            'BASF', 'Dow', 'LyondellBasell', 'Air Liquide',
            'Linde', 'Air Products', 'DuPont', 'PPG Industries',
            'Sherwin-Williams', 'Eastman Chemical', 'Celanese',
            'FMC Corporation', 'Albemarle', 'International Flavors & Fragrances'

            // ... (This list continues with many more companies)
        ];

        const positions = [
            // Software Development
            'Software Engineer',
            'Full Stack Developer',
            'Frontend Developer',
            'Backend Developer',
            'Mobile Developer',
            'DevOps Engineer',
            'Site Reliability Engineer',
            'Cloud Engineer',
            'Security Engineer',
            'Quality Assurance Engineer',
            
            // Data & AI
            'Data Scientist',
            'Machine Learning Engineer',
            'AI Research Scientist',
            'Data Engineer',
            'Business Intelligence Analyst',
            'Data Analyst',
            'Big Data Engineer',
            
            // Product & Design
            'Product Manager',
            'Product Owner',
            'UI/UX Designer',
            'User Experience Researcher',
            'Product Designer',
            'Visual Designer',
            'Interaction Designer',
            
            // Management & Leadership
            'Engineering Manager',
            'Technical Lead',
            'Project Manager',
            'Scrum Master',
            'CTO',
            'VP of Engineering',
            'Director of Engineering',
            'Technical Program Manager',
            
            // Specialized Roles
            'Blockchain Developer',
            'AR/VR Developer',
            'Game Developer',
            'Embedded Systems Engineer',
            'Systems Architect',
            'Network Engineer',
            'Database Administrator',
            'Technical Consultant',
            'Solutions Architect',
            'Enterprise Architect'
        ];

        const skills = [
            // Programming Languages
            'JavaScript', 'Python', 'Java', 'C++', 'C#', 'Ruby', 'Go', 'Swift', 'Kotlin',
            'PHP', 'Rust', 'TypeScript', 'Scala', 'R', 'MATLAB', 'Perl', 'Haskell',
            'Lua', 'Dart', 'Groovy', 'Objective-C', 'Visual Basic', 'Assembly',
            'COBOL', 'Fortran', 'Pascal', 'Ada', 'Lisp', 'Prolog', 'Erlang',

            // Web Technologies
            'HTML5', 'CSS3', 'React', 'Angular', 'Vue.js', 'Node.js', 'Express.js',
            'Django', 'Flask', 'Spring Boot', 'ASP.NET', 'Ruby on Rails', 'Laravel',
            'Symfony', 'CodeIgniter', 'jQuery', 'Bootstrap', 'Tailwind CSS',
            'Material-UI', 'Webpack', 'Babel', 'GraphQL', 'REST APIs', 'WebSocket',
            'Server-Sent Events', 'Progressive Web Apps', 'Web Components',
            'WebAssembly', 'Service Workers', 'Web Authentication',

            // Databases & Storage
            'SQL', 'MySQL', 'PostgreSQL', 'MongoDB', 'Redis', 'Cassandra', 'Oracle',
            'Microsoft SQL Server', 'SQLite', 'MariaDB', 'DynamoDB', 'Couchbase',
            'Firebase', 'Neo4j', 'Elasticsearch', 'InfluxDB', 'Apache HBase',
            'Apache Cassandra', 'Amazon RDS', 'Google Cloud Spanner',

            // Cloud Platforms & Services
            'AWS', 'Azure', 'Google Cloud Platform', 'IBM Cloud', 'Oracle Cloud',
            'DigitalOcean', 'Heroku', 'Alibaba Cloud', 'OpenStack', 'VMware',
            'AWS Lambda', 'Azure Functions', 'Google Cloud Functions',
            'Amazon S3', 'Azure Blob Storage', 'Google Cloud Storage',
            'Amazon EC2', 'Azure Virtual Machines', 'Google Compute Engine',

            // DevOps & Tools
            'Docker', 'Kubernetes', 'Jenkins', 'Git', 'GitHub', 'GitLab', 'Bitbucket',
            'Terraform', 'Ansible', 'Chef', 'Puppet', 'CircleCI', 'Travis CI',
            'TeamCity', 'Bamboo', 'Nagios', 'Prometheus', 'Grafana', 'ELK Stack',
            'New Relic', 'Datadog', 'Apache Kafka', 'RabbitMQ', 'Redis Queue',

            // AI & Machine Learning
            'Machine Learning', 'Deep Learning', 'TensorFlow', 'PyTorch', 'Keras',
            'Scikit-learn', 'Natural Language Processing', 'Computer Vision',
            'Neural Networks', 'Reinforcement Learning', 'OpenCV', 'NLTK', 'spaCy',
            'Pandas', 'NumPy', 'SciPy', 'Matplotlib', 'Seaborn', 'Plotly',
            'Jupyter Notebook', 'Google Colab', 'Apache Spark', 'H2O.ai',

            // Mobile Development
            'iOS Development', 'Android Development', 'React Native', 'Flutter',
            'Xamarin', 'Ionic', 'SwiftUI', 'Kotlin Multiplatform', 'Apache Cordova',
            'PhoneGap', 'Unity Mobile', 'Unreal Engine Mobile', 'Mobile UI/UX',
            'App Store Optimization', 'Mobile Analytics', 'Push Notifications',
            'Mobile Security', 'Mobile Testing', 'Mobile CI/CD', 'Mobile DevOps',

            // Security
            'Cybersecurity', 'Network Security', 'Information Security',
            'Application Security', 'Cloud Security', 'Cryptography',
            'Penetration Testing', 'Vulnerability Assessment', 'Security Auditing',
            'Incident Response', 'Forensics', 'Malware Analysis', 'SIEM',
            'Identity and Access Management', 'OAuth', 'JWT', 'SSL/TLS',
            'Firewall Configuration', 'IDS/IPS', 'Security Compliance',

            // Project Management & Methodologies
            'Agile', 'Scrum', 'Kanban', 'Lean', 'Waterfall', 'Prince2', 'PMI',
            'ITIL', 'Six Sigma', 'JIRA', 'Confluence', 'Trello', 'Asana',
            'Microsoft Project', 'Basecamp', 'Monday.com', 'ClickUp',
            'Risk Management', 'Quality Assurance', 'Process Improvement',

            // Design & Creative
            'UI Design', 'UX Design', 'Graphic Design', 'Web Design',
            'Adobe Creative Suite', 'Figma', 'Sketch', 'Adobe XD',
            'InVision', 'Zeplin', 'Principle', 'After Effects',
            'Photoshop', 'Illustrator', 'InDesign', 'Premiere Pro',
            'Motion Graphics', '3D Modeling', 'Animation', 'Typography',

            // Data Analysis & Business Intelligence
            'Data Analysis', 'Business Intelligence', 'Data Visualization',
            'Statistical Analysis', 'Predictive Analytics', 'Data Mining',
            'ETL', 'Data Warehousing', 'Data Modeling', 'Power BI',
            'Tableau', 'QlikView', 'Looker', 'Sisense', 'SAP BusinessObjects',
            'Oracle Business Intelligence', 'Microsoft Analysis Services',
            'Data Quality', 'Data Governance', 'Master Data Management',

            // Soft Skills
            'Communication', 'Leadership', 'Team Management', 'Problem Solving',
            'Critical Thinking', 'Time Management', 'Presentation Skills',
            'Negotiation', 'Conflict Resolution', 'Decision Making',
            'Emotional Intelligence', 'Adaptability', 'Creativity',
            'Strategic Planning', 'Customer Service', 'Mentoring',
            'Cross-functional Collaboration', 'Cultural Awareness',
            'Remote Work', 'Work-Life Balance',

            // Additional Programming Languages & Frameworks
            'Elixir', 'F#', 'Julia', 'Crystal', 'Nim', 'Racket',
            'Clojure', 'OCaml', 'Elm', 'PureScript', 'Reason',
            'Ballerina', 'Zig', 'V', 'D', 'Vala', 'Ceylon',
            'Hack', 'Pike', 'Io', 'Factor', 'Forth', 'APL',
            'J', 'K', 'Q', 'Tcl', 'Icon', 'REBOL',

            // Additional Web Technologies
            'Svelte', 'Solid.js', 'Preact', 'Alpine.js', 'Lit',
            'Stencil', 'Polymer', 'Meteor', 'Ember.js', 'Backbone.js',
            'Mithril', 'Aurelia', 'Marko', 'Riot.js', 'Stimulus',
            'Hotwire', 'Inertia.js', 'LiveView', 'Blazor', 'Next.js',
            'Nuxt.js', 'Gatsby', 'Gridsome', 'Eleventy', 'Hugo',
            'Jekyll', 'Pelican', 'Zola', 'VitePress', 'Docusaurus',

            // Additional Cloud & DevOps
            'OpenShift', 'Rancher', 'Nomad', 'Consul', 'Vault',
            'Istio', 'Linkerd', 'Envoy', 'Kong', 'Traefik',
            'Jaeger', 'OpenTelemetry', 'Fluentd', 'Logstash',
            'Vector', 'Telegraf', 'CollectD', 'StatsD', 'Graphite',
            'InfluxDB', 'TimescaleDB', 'OpenMetrics', 'Thanos',
            'Cortex', 'M3DB', 'VictoriaMetrics', 'Loki', 'OpenSearch',

            // Additional Data Science & Analytics
            'PySpark', 'Dask', 'Ray', 'Modin', 'Vaex',
            'Polars', 'DuckDB', 'ClickHouse', 'Presto',
            'Trino', 'Apache Druid', 'Apache Pinot', 'Apache Kylin',
            'Apache Doris', 'Apache CarbonData', 'Apache Arrow',
            'Apache Parquet', 'Apache ORC', 'Apache Avro',
            'Apache Thrift', 'Protocol Buffers', 'MessagePack',

            // Additional Security Tools
            'Snort', 'Suricata', 'Zeek', 'OSSEC', 'Wazuh',
            'OpenVAS', 'Nikto', 'Arachni', 'OWASP ZAP', 'Burp Suite',
            'Metasploit', 'Nmap', 'Wireshark', 'tcpdump', 'Kismet',
            'Aircrack-ng', 'John the Ripper', 'Hashcat', 'Hydra',
            'ClamAV', 'Yara', 'MISP', 'TheHive', 'Cortex',

            // Additional Testing Tools
            'Selenium', 'Cypress', 'Playwright', 'TestCafe', 'Puppeteer',
            'WebdriverIO', 'Nightwatch.js', 'Karma', 'Jest', 'Mocha',
            'Jasmine', 'AVA', 'tape', 'QUnit', 'PHPUnit',
            'JUnit', 'TestNG', 'NUnit', 'xUnit', 'RSpec',

            // Additional Mobile Technologies
            'SwiftUI', 'Jetpack Compose', 'Flutter Flow', 'Capacitor',
            'NativeScript', 'Kivy', 'Qt Mobile', 'Xamarin.Forms',
            'React Native Paper', 'Native Base', 'MobX', 'Redux Toolkit',
            'Zustand', 'Jotai', 'Recoil', 'VueX', 'Pinia',
            'NgRx', 'Akita', 'NGXS',

            // Additional Design Tools
            'Framer', 'Proto.io', 'Marvel', 'Balsamiq', 'Axure',
            'UXPin', 'Maze', 'UsabilityHub', 'Optimal Workshop',
            'Hotjar', 'FullStory', 'Crazy Egg', 'Lucky Orange',
            'Microsoft Clarity', 'Amplitude', 'Mixpanel', 'Heap',
            'Pendo', 'Appcues', 'WalkMe',

            // Additional Business Tools
            'SAP', 'Oracle ERP', 'Microsoft Dynamics', 'Salesforce',
            'HubSpot', 'Zoho CRM', 'NetSuite', 'Workday',
            'ServiceNow', 'Zendesk', 'Freshdesk', 'Intercom',
            'Drift', 'Marketo', 'Pardot', 'Eloqua', 'Mailchimp',
            'Constant Contact', 'SendGrid', 'Twilio SendGrid'

            // ... (This list continues with many more skills)
        ];

        const experienceLevels = [
            'Entry Level (0-2 years)',
            'Junior (2-4 years)',
            'Mid-Level (4-6 years)',
            'Senior (6-10 years)',
            'Lead (10-15 years)',
            'Principal (15+ years)',
            'Distinguished Engineer',
            'Fellow'
        ];

        // Initialize page
        window.addEventListener('load', async () => {
            // Check authentication
            const userData = JSON.parse(localStorage.getItem('user'));
            if (!userData) {
                window.location.href = './index.html';
                return;
            }

            // Update user profile display
            document.getElementById('userName').textContent = userData.username;
            document.getElementById('userRole').textContent = userData.role;

            // Load profile data from API
            try {
                const API_BASE_URL = window.location.hostname === 'localhost' 
                    ? '' 
                    : window.location.origin;
                    
                const response = await fetch(`${API_BASE_URL}/api/profile`, {
                    headers: {
                        'Authorization': `Bearer ${userData.token}`,
                        'Accept': 'application/json'
                    }
                });
                
                if (!response.ok) {
                    if (response.status === 404) {
                        // Create empty profile if none exists
                        profileData = {
                            education: [],
                            experience: [],
                            skills: [],
                            social: {
                                linkedin: '',
                                github: ''
                            }
                        };
                        return;
                    }
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const contentType = response.headers.get("content-type");
                if (!contentType || !contentType.includes("application/json")) {
                    throw new TypeError("Received non-JSON response from server");
                }
                
                profileData = await response.json();
                renderProfile();
            } catch (error) {
                console.error('Error loading profile:', error);
                // Create empty profile on error
                profileData = {
                    education: [],
                    experience: [],
                    skills: [],
                    social: {
                        linkedin: '',
                        github: ''
                    }
                };
            }
        });

        // Dropdown functionality
        function createDropdown(inputId, options) {
            const input = document.getElementById(inputId);
            const dropdownId = inputId + 'Dropdown';
            
            // Create dropdown if it doesn't exist
            if (!document.getElementById(dropdownId)) {
                const dropdown = document.createElement('div');
                dropdown.id = dropdownId;
                dropdown.className = 'dropdown-list';
                input.parentNode.appendChild(dropdown);
            }

            const dropdown = document.getElementById(dropdownId);
            
            input.addEventListener('input', () => {
                const value = input.value.toLowerCase();
                const filtered = options.filter(option => 
                    option.toLowerCase().includes(value)
                );

                if (filtered.length && value) {
                    dropdown.innerHTML = filtered
                        .map(option => `<div class="dropdown-item">${option}</div>`)
                        .join('');
                    dropdown.style.display = 'block';
                } else {
                    dropdown.style.display = 'none';
                }
            });

            dropdown.addEventListener('click', (e) => {
                if (e.target.className === 'dropdown-item') {
                    input.value = e.target.textContent;
                    dropdown.style.display = 'none';
                }
            });

            // Hide dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (e.target !== input) {
                    dropdown.style.display = 'none';
                }
            });
        }

        // Modal functions
        function openModal(type, subtype = '') {
            const modal = document.getElementById('formModal');
            const modalContent = document.getElementById('modalContent');
            modal.classList.add('active');

            switch (type) {
                case 'education':
                    modalContent.innerHTML = `
                        <h2>Add Education</h2>
                        <form id="educationForm" onsubmit="submitEducation(event)">
                            <div class="form-group">
                                <label for="school">School/University</label>
                                <input type="text" id="school" class="form-input" required placeholder="Start typing to see suggestions">
                            </div>
                            <div class="form-group">
                                <label for="degree">Degree</label>
                                <input type="text" id="degree" class="form-input" required placeholder="Start typing to see suggestions">
                            </div>
                            <div class="form-group">
                                <label for="field">Field of Study</label>
                                <input type="text" id="field" class="form-input" required placeholder="Start typing to see suggestions">
                            </div>
                            <div class="form-group">
                                <label for="eduStartDate">Start Date</label>
                                <input type="date" id="eduStartDate" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label for="eduEndDate">End Date</label>
                                <input type="date" id="eduEndDate" class="form-input">
                            </div>
                            <button type="submit" class="save-button">Save Education</button>
                        </form>
                    `;
                    // Initialize dropdowns for education fields
                    setTimeout(() => {
                        createDropdown('school', universities);
                        createDropdown('degree', degrees);
                        createDropdown('field', fields);
                    }, 0);
                    break;

                case 'experience':
                    modalContent.innerHTML = `
                        <h2>Add Work Experience</h2>
                        <form id="experienceForm" onsubmit="submitExperience(event)">
                            <div class="form-group">
                                <label for="company">Company</label>
                                <input type="text" id="company" class="form-input" required placeholder="Start typing to see suggestions">
                            </div>
                            <div class="form-group">
                                <label for="position">Position</label>
                                <input type="text" id="position" class="form-input" required placeholder="Start typing to see suggestions">
                            </div>
                            <div class="form-group">
                                <label for="experienceLevel">Experience Level</label>
                                <select id="experienceLevel" class="experience-level" required>
                                    <option value="">Select Experience Level</option>
                                    ${experienceLevels.map(level => 
                                        `<option value="${level}">${level}</option>`
                                    ).join('')}
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="expStartDate">Start Date</label>
                                <input type="date" id="expStartDate" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label for="expEndDate">End Date</label>
                                <input type="date" id="expEndDate" class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="description">Description</label>
                                <textarea id="description" class="form-input" rows="4"></textarea>
                            </div>
                            <button type="submit" class="save-button">Save Experience</button>
                        </form>
                    `;
                    // Initialize dropdowns for experience fields
                    setTimeout(() => {
                        createDropdown('company', companies);
                        createDropdown('position', positions);
                    }, 0);
                    break;

                case 'skill':
                    modalContent.innerHTML = `
                        <h2>Add Skill</h2>
                        <form id="skillForm" onsubmit="submitSkill(event)">
                            <div class="form-group">
                                <label for="skill">Skill Name</label>
                                <input type="text" id="skill" class="form-input" required placeholder="Start typing to see suggestions">
                            </div>
                            <button type="submit" class="save-button">Add Skill</button>
                        </form>
                    `;
                    // Initialize dropdown for skills
                    setTimeout(() => {
                        createDropdown('skill', skills);
                    }, 0);
                    break;

                case 'social':
                    const platform = subtype.charAt(0).toUpperCase() + subtype.slice(1);
                    modalContent.innerHTML = `
                        <h2>Add ${platform} Profile</h2>
                        <form id="socialForm" onsubmit="saveSocialLink(event, '${subtype}')">
                            <div class="form-group">
                                <label for="socialUrl">${platform} URL</label>
                                <input type="url" id="socialUrl" class="form-input" required 
                                       value="${profileData.social[subtype]}">
                            </div>
                            <button type="submit" class="save-button">Save Link</button>
                        </form>
                    `;
                    break;
            }
        }

        function closeModal() {
            document.getElementById('formModal').classList.remove('active');
        }

        // Save functions
        async function saveEducation(event) {
            event.preventDefault();
            const education = {
                school: document.getElementById('school').value,
                degree: document.getElementById('degree').value,
                field: document.getElementById('field').value,
                startDate: document.getElementById('eduStartDate').value,
                endDate: document.getElementById('eduEndDate').value || 'Present'
            };

            try {
                const userData = JSON.parse(localStorage.getItem('user'));
                const response = await fetch('/api/profile/education', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${userData.token}`
                    },
                    body: JSON.stringify(education)
                });

                if (response.ok) {
                    profileData = await response.json();
                    renderProfile();
                    closeModal();
                } else {
                    throw new Error('Failed to save education');
                }
            } catch (error) {
                console.error('Error saving education:', error);
                alert('Failed to save education data');
            }
        }

        async function saveExperience(event) {
            event.preventDefault();
            const experience = {
                company: document.getElementById('company').value,
                position: document.getElementById('position').value,
                experienceLevel: document.getElementById('experienceLevel').value,
                startDate: document.getElementById('expStartDate').value,
                endDate: document.getElementById('expEndDate').value || 'Present',
                description: document.getElementById('description').value
            };

            try {
                const userData = JSON.parse(localStorage.getItem('user'));
                const response = await fetch('/api/profile/experience', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${userData.token}`
                    },
                    body: JSON.stringify(experience)
                });

                if (response.ok) {
                    profileData = await response.json();
                    renderProfile();
                    closeModal();
                } else {
                    throw new Error('Failed to save experience');
                }
            } catch (error) {
                console.error('Error saving experience:', error);
                alert('Failed to save experience data');
            }
        }

        async function saveSkill(event) {
            event.preventDefault();
            const skill = document.getElementById('skill').value;
            if (!profileData.skills.includes(skill)) {
                try {
                    const userData = JSON.parse(localStorage.getItem('user'));
                    const response = await fetch('/api/profile/skills', {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${userData.token}`
                        },
                        body: JSON.stringify({
                            skills: [...profileData.skills, skill]
                        })
                    });

                    if (response.ok) {
                        profileData = await response.json();
                        renderProfile();
                        closeModal();
                    } else {
                        throw new Error('Failed to save skill');
                    }
                } catch (error) {
                    console.error('Error saving skill:', error);
                    alert('Failed to save skill data');
                }
            }
            closeModal();
        }

        async function saveSocialLink(event, platform) {
            event.preventDefault();
            const url = document.getElementById('socialUrl').value;
            
            try {
                const userData = JSON.parse(localStorage.getItem('user'));
                const response = await fetch('/api/profile/social', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${userData.token}`
                    },
                    body: JSON.stringify({
                        ...profileData.social,
                        [platform]: url
                    })
                });

                if (response.ok) {
                    profileData = await response.json();
                    renderProfile();
                    closeModal();
                } else {
                    throw new Error('Failed to save social link');
                }
            } catch (error) {
                console.error('Error saving social link:', error);
                alert('Failed to save social link');
            }
        }

        // Delete functions
        async function deleteEducation(index) {
            try {
                const eduId = profileData.education[index]._id;
                const userData = JSON.parse(localStorage.getItem('user'));
                const response = await fetch(`/api/profile/education/${eduId}`, {
                    method: 'DELETE',
                    headers: {
                        'Authorization': `Bearer ${userData.token}`
                    }
                });

                if (response.ok) {
                    profileData = await response.json();
                    renderProfile();
                } else {
                    throw new Error('Failed to delete education');
                }
            } catch (error) {
                console.error('Error deleting education:', error);
                alert('Failed to delete education');
            }
        }

        async function deleteExperience(index) {
            try {
                const expId = profileData.experience[index]._id;
                const userData = JSON.parse(localStorage.getItem('user'));
                const response = await fetch(`/api/profile/experience/${expId}`, {
                    method: 'DELETE',
                    headers: {
                        'Authorization': `Bearer ${userData.token}`
                    }
                });

                if (response.ok) {
                    profileData = await response.json();
                    renderProfile();
                } else {
                    throw new Error('Failed to delete experience');
                }
            } catch (error) {
                console.error('Error deleting experience:', error);
                alert('Failed to delete experience');
            }
        }

        async function deleteSkill(skill) {
            try {
                const userData = JSON.parse(localStorage.getItem('user'));
                const response = await fetch('/api/profile/skills', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${userData.token}`
                    },
                    body: JSON.stringify({
                        skills: profileData.skills.filter(s => s !== skill)
                    })
                });

                if (response.ok) {
                    profileData = await response.json();
                    renderProfile();
                } else {
                    throw new Error('Failed to delete skill');
                }
            } catch (error) {
                console.error('Error deleting skill:', error);
                alert('Failed to delete skill');
            }
        }

        // Render functions
        function renderProfile() {
            // Render education
            const educationList = document.getElementById('educationList');
            educationList.innerHTML = profileData.education.map((edu, index) => `
                <div class="item-card">
                    <div class="item-header">
                        <div>
                            <div class="item-title">${edu.school}</div>
                            <div class="item-subtitle">${edu.degree} in ${edu.field}</div>
                            <div class="item-date">${edu.startDate} - ${edu.endDate}</div>
                        </div>
                    </div>
                    <div class="item-actions">
                        <button class="action-button" onclick="deleteEducation(${index})">×</button>
                    </div>
                </div>
            `).join('');

            // Render experience
            const experienceList = document.getElementById('experienceList');
            experienceList.innerHTML = profileData.experience.map((exp, index) => `
                <div class="item-card">
                    <div class="item-header">
                        <div>
                            <div class="item-title">${exp.position}</div>
                            <div class="item-subtitle">${exp.company}</div>
                            <div class="item-date">${exp.startDate} - ${exp.endDate}</div>
                        </div>
                    </div>
                    <div class="item-description">${exp.description}</div>
                    <div class="item-actions">
                        <button class="action-button" onclick="deleteExperience(${index})">×</button>
                    </div>
                </div>
            `).join('');

            // Render skills
            const skillsList = document.getElementById('skillsList');
            skillsList.innerHTML = profileData.skills.map(skill => `
                <div class="skill-tag">
                    ${skill}
                    <button class="action-button" onclick="deleteSkill('${skill}')">×</button>
                </div>
            `).join('');

            // Update social links
            const linkedinUrl = document.getElementById('linkedinUrl');
            const githubUrl = document.getElementById('githubUrl');
            linkedinUrl.textContent = profileData.social.linkedin || 'Add LinkedIn Profile';
            githubUrl.textContent = profileData.social.github || 'Add GitHub Profile';

            if (profileData.social.linkedin) {
                document.getElementById('linkedinLink').href = profileData.social.linkedin;
            }
            if (profileData.social.github) {
                document.getElementById('githubLink').href = profileData.social.github;
            }
        }

        async function updateProfile() {
            try {
                const userData = JSON.parse(localStorage.getItem('user'));
                if (!userData || !userData.token) {
                    window.location.href = './index.html';
                    return;
                }

                // Gather all profile data
                const profileData = {
                    education: Array.from(document.getElementById('educationList').children).map(edu => ({
                        school: edu.querySelector('.item-title').textContent,
                        degree: edu.querySelector('.item-subtitle').textContent.split(' in ')[0],
                        field: edu.querySelector('.item-subtitle').textContent.split(' in ')[1],
                        startDate: edu.querySelector('.item-date').textContent.split(' - ')[0],
                        endDate: edu.querySelector('.item-date').textContent.split(' - ')[1]
                    })),
                    experience: Array.from(document.getElementById('experienceList').children).map(exp => ({
                        company: exp.querySelector('.item-subtitle').textContent,
                        position: exp.querySelector('.item-title').textContent,
                        startDate: exp.querySelector('.item-date').textContent.split(' - ')[0],
                        endDate: exp.querySelector('.item-date').textContent.split(' - ')[1],
                        description: exp.querySelector('.item-description')?.textContent || ''
                    })),
                    skills: Array.from(document.getElementById('skillsList').children).map(skill => 
                        skill.textContent.trim().replace('×', '')
                    ),
                    social: {
                        linkedin: document.getElementById('linkedinUrl').textContent === 'Add LinkedIn Profile' ? '' : document.getElementById('linkedinUrl').textContent,
                        github: document.getElementById('githubUrl').textContent === 'Add GitHub Profile' ? '' : document.getElementById('githubUrl').textContent
                    }
                };

                // Send update request to server
                const response = await fetch('/api/profile', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${userData.token}`
                    },
                    body: JSON.stringify(profileData)
                });

                if (!response.ok) {
                    throw new Error('Failed to update profile');
                }

                // Show success message
                const successMessage = document.getElementById('successMessage');
                successMessage.style.display = 'block';
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 3000);

                // Refresh profile data
                const updatedProfile = await response.json();
                profileData = updatedProfile;
                renderProfile();

            } catch (error) {
                console.error('Error updating profile:', error);
                alert('Failed to update profile. Please try again.');
            }
        }

        // Modify your existing renderProfile function to handle null/undefined values
        function renderProfile() {
            // Render education
            const educationList = document.getElementById('educationList');
            educationList.innerHTML = (profileData.education || []).map((edu, index) => `
                <div class="item-card">
                    <div class="item-header">
                        <div>
                            <div class="item-title">${edu.school || ''}</div>
                            <div class="item-subtitle">${edu.degree || ''} in ${edu.field || ''}</div>
                            <div class="item-date">${edu.startDate || ''} - ${edu.endDate || 'Present'}</div>
                        </div>
                    </div>
                    <div class="item-actions">
                        <button class="action-button" onclick="deleteEducation(${index})">×</button>
                    </div>
                </div>
            `).join('');

            // Render experience
            const experienceList = document.getElementById('experienceList');
            experienceList.innerHTML = (profileData.experience || []).map((exp, index) => `
                <div class="item-card">
                    <div class="item-header">
                        <div>
                            <div class="item-title">${exp.position || ''}</div>
                            <div class="item-subtitle">${exp.company || ''}</div>
                            <div class="item-date">${exp.startDate || ''} - ${exp.endDate || 'Present'}</div>
                        </div>
                    </div>
                    <div class="item-description">${exp.description || ''}</div>
                    <div class="item-actions">
                        <button class="action-button" onclick="deleteExperience(${index})">×</button>
                    </div>
                </div>
            `).join('');

            // Render skills
            const skillsList = document.getElementById('skillsList');
            skillsList.innerHTML = (profileData.skills || []).map(skill => `
                <div class="skill-tag">
                    ${skill}
                    <button class="action-button" onclick="deleteSkill('${skill}')">×</button>
                </div>
            `).join('');

            // Update social links
            const linkedinUrl = document.getElementById('linkedinUrl');
            const githubUrl = document.getElementById('githubUrl');
            linkedinUrl.textContent = profileData.social?.linkedin || 'Add LinkedIn Profile';
            githubUrl.textContent = profileData.social?.github || 'Add GitHub Profile';

            if (profileData.social?.linkedin) {
                document.getElementById('linkedinLink').href = profileData.social.linkedin;
            }
            if (profileData.social?.github) {
                document.getElementById('githubLink').href = profileData.social.github;
            }
        }
    </script>
</body>
</html> 