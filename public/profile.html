<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <title>Profile - CareerConnect</title>
    <link rel="stylesheet" href="dashboard.css">
    <style>
        .profile-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .profile-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
        }

        .profile-section h2 {
            color: #00f7ff;
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .add-button {
            background: rgba(0, 247, 255, 0.1);
            border: 1px solid rgba(0, 247, 255, 0.2);
            border-radius: 5px;
            color: #00f7ff;
            padding: 0.3rem 0.8rem;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .add-button:hover {
            background: rgba(0, 247, 255, 0.2);
        }

        .item-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            position: relative;
        }

        .item-card:last-child {
            margin-bottom: 0;
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }

        .item-title {
            color: #fff;
            font-weight: bold;
            margin-bottom: 0.3rem;
        }

        .item-subtitle {
            color: #00f7ff;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .item-date {
            color: #888;
            font-size: 0.8rem;
        }

        .item-description {
            color: #888;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .item-actions {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
        }

        .action-button {
            background: none;
            border: none;
            color: #888;
            cursor: pointer;
            padding: 0.2rem;
            transition: color 0.3s ease;
        }

        .action-button:hover {
            color: #00f7ff;
        }

        .skill-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .skill-tag {
            background: rgba(0, 247, 255, 0.1);
            color: #00f7ff;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.9rem;
        }

        .social-links {
            display: grid;
            gap: 1rem;
        }

        .social-link {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            color: #fff;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: rgba(0, 247, 255, 0.1);
            transform: translateX(5px);
        }

        .social-link svg {
            width: 24px;
            height: 24px;
            fill: #00f7ff;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: #1a1a1a;
            border-radius: 10px;
            padding: 2rem;
            width: 90%;
            max-width: 500px;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: #888;
            cursor: pointer;
            font-size: 1.5rem;
        }

        .modal-close:hover {
            color: #00f7ff;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            color: #fff;
            margin-bottom: 0.5rem;
        }

        .form-input {
            width: 100%;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(0, 247, 255, 0.2);
            border-radius: 8px;
            color: #fff;
            font-size: 1rem;
        }

        .form-input:focus {
            outline: none;
            border-color: #00f7ff;
        }

        .save-button {
            width: 100%;
            padding: 0.8rem;
            background: #00f7ff;
            border: none;
            border-radius: 8px;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .save-button:hover {
            background: #00d8ff;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .profile-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Dropdown styles */
        .dropdown-list {
            position: absolute;
            width: 100%;
            max-height: 200px;
            overflow-y: auto;
            background: #1a1a1a;
            border: 1px solid rgba(0, 247, 255, 0.2);
            border-radius: 0 0 8px 8px;
            z-index: 1000;
            display: none;
        }

        .dropdown-item {
            padding: 0.8rem;
            cursor: pointer;
            color: #fff;
        }

        .dropdown-item:hover {
            background: rgba(0, 247, 255, 0.1);
        }

        .form-group {
            position: relative;
        }

        .experience-level {
            margin-top: 1rem;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(0, 247, 255, 0.2);
            border-radius: 8px;
            color: #fff;
            width: 100%;
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <h1 class="brand">CareerConnect</h1>
        <ul class="nav-menu">
            <li class="nav-item">
                <a href="./dashboard.html" class="nav-link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                    </svg>
                    Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a href="./profile.html" class="nav-link active">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                    Profile
                </a>
            </li>
            <li class="nav-item">
                <a href="./jobs.html" class="nav-link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"/>
                    </svg>
                    Jobs
                </a>
            </li>
            <li class="nav-item">
                <a href="./applications.html" class="nav-link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
                    </svg>
                    Applications
                </a>
            </li>
            <li class="nav-item">
                <a href="./messages.html" class="nav-link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>
                    </svg>
                    Messages
                </a>
            </li>
            <li class="nav-item">
                <a href="./settings.html" class="nav-link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                    </svg>
                    Settings
                </a>
            </li>
        </ul>
        <div class="user-profile">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#00f7ff" width="32" height="32">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
            <div class="profile-info">
                <div class="profile-name" id="userName">Loading...</div>
                <div class="profile-role" id="userRole">Loading...</div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <h1 class="page-title">My Profile</h1>
        <div class="profile-grid">
            <!-- Education Section -->
            <div class="profile-section">
                <h2>
                    Education
                    <button class="add-button" onclick="openModal('education')">+ Add Education</button>
                </h2>
                <div id="educationList">
                    <!-- Education items will be dynamically added here -->
                </div>
            </div>

            <!-- Work Experience Section -->
            <div class="profile-section">
                <h2>
                    Work Experience
                    <button class="add-button" onclick="openModal('experience')">+ Add Experience</button>
                </h2>
                <div id="experienceList">
                    <!-- Experience items will be dynamically added here -->
                </div>
            </div>

            <!-- Skills Section -->
            <div class="profile-section">
                <h2>
                    Skills
                    <button class="add-button" onclick="openModal('skill')">+ Add Skill</button>
                </h2>
                <div class="skill-tags" id="skillsList">
                    <!-- Skills will be dynamically added here -->
                </div>
            </div>

            <!-- Social Links Section -->
            <div class="profile-section">
                <h2>Social Links</h2>
                <div class="social-links">
                    <a href="#" class="social-link" id="linkedinLink" onclick="openModal('social', 'linkedin')">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/>
                        </svg>
                        <span id="linkedinUrl">Add LinkedIn Profile</span>
                    </a>
                    <a href="#" class="social-link" id="githubLink" onclick="openModal('social', 'github')">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                        <span id="githubUrl">Add GitHub Profile</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="formModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div id="modalContent">
                <!-- Modal content will be dynamically added here -->
            </div>
        </div>
    </div>

    <script>
        // Sample data structure
        let profileData = {
            education: [],
            experience: [],
            skills: [],
            social: {
                linkedin: '',
                github: ''
            }
        };

        // Predefined options
        const universities = [
            // Top US Universities
            'Massachusetts Institute of Technology',
            'Stanford University',
            'Harvard University',
            'California Institute of Technology',
            'Princeton University',
            'Yale University',
            'Columbia University',
            'University of Chicago',
            'University of Pennsylvania',
            'Johns Hopkins University',
            
            // Top International Universities
            'University of Oxford',
            'University of Cambridge',
            'ETH Zurich',
            'National University of Singapore',
            'Tsinghua University',
            'University of Toronto',
            'Imperial College London',
            'University College London',
            'University of Melbourne',
            'Technical University of Munich',
            
            // Other Notable Universities
            'Carnegie Mellon University',
            'University of California, Berkeley',
            'Georgia Institute of Technology',
            'University of Michigan',
            'University of Illinois Urbana-Champaign',
            'Purdue University',
            'University of Washington',
            'University of Texas at Austin',
            'University of Wisconsin-Madison',
            'Boston University'
        ];

        const degrees = [
            // Bachelor's Degrees
            'Bachelor of Science (BS)',
            'Bachelor of Arts (BA)',
            'Bachelor of Engineering (BE)',
            'Bachelor of Technology (BTech)',
            'Bachelor of Business Administration (BBA)',
            'Bachelor of Computer Applications (BCA)',
            'Bachelor of Fine Arts (BFA)',
            'Bachelor of Architecture (BArch)',
            
            // Master's Degrees
            'Master of Science (MS)',
            'Master of Arts (MA)',
            'Master of Engineering (ME)',
            'Master of Technology (MTech)',
            'Master of Business Administration (MBA)',
            'Master of Computer Applications (MCA)',
            'Master of Fine Arts (MFA)',
            'Master of Architecture (MArch)',
            'Master of Public Health (MPH)',
            'Master of Social Work (MSW)',
            
            // Doctoral Degrees
            'Doctor of Philosophy (PhD)',
            'Doctor of Science (DSc)',
            'Doctor of Engineering (DEng)',
            'Doctor of Business Administration (DBA)',
            
            // Professional Degrees
            'Associate Degree',
            'Diploma',
            'Professional Certification',
            'Vocational Training Certificate'
        ];

        const fields = [
            // Computer Science & IT
            'Computer Science',
            'Software Engineering',
            'Information Technology',
            'Data Science',
            'Artificial Intelligence',
            'Machine Learning',
            'Cybersecurity',
            'Cloud Computing',
            'Web Development',
            'Mobile App Development',
            
            // Engineering
            'Electrical Engineering',
            'Mechanical Engineering',
            'Civil Engineering',
            'Chemical Engineering',
            'Aerospace Engineering',
            'Biomedical Engineering',
            'Industrial Engineering',
            'Robotics Engineering',
            'Environmental Engineering',
            
            // Business & Management
            'Business Administration',
            'Finance',
            'Marketing',
            'Economics',
            'International Business',
            'Project Management',
            'Human Resource Management',
            'Supply Chain Management',
            
            // Science & Mathematics
            'Mathematics',
            'Physics',
            'Chemistry',
            'Biology',
            'Statistics',
            'Biotechnology',
            'Environmental Science',
            
            // Other Fields
            'Digital Marketing',
            'User Experience Design',
            'Product Management',
            'Data Analytics',
            'Business Intelligence'
        ];

        const companies = [
            // Tech Giants
            'Google',
            'Microsoft',
            'Apple',
            'Amazon',
            'Meta',
            'Netflix',
            'IBM',
            'Intel',
            'Oracle',
            'Salesforce',
            
            // Enterprise Software
            'SAP',
            'Adobe',
            'VMware',
            'Intuit',
            'ServiceNow',
            'Workday',
            'Atlassian',
            'Zoom',
            'Slack',
            
            // Tech Startups & Scale-ups
            'Stripe',
            'Snowflake',
            'Databricks',
            'Palantir',
            'Uber',
            'Airbnb',
            'DoorDash',
            'Coinbase',
            'Robinhood',
            
            // Consulting & Services
            'Accenture',
            'Deloitte',
            'PwC',
            'EY',
            'KPMG',
            'McKinsey',
            'Boston Consulting Group',
            'Capgemini',
            'Infosys',
            'Wipro',
            
            // Other Tech Companies
            'Twitter',
            'LinkedIn',
            'PayPal',
            'Square',
            'Twilio',
            'Unity',
            'Roblox',
            'Spotify',
            'Tesla',
            'SpaceX'
        ];

        const positions = [
            // Software Development
            'Software Engineer',
            'Full Stack Developer',
            'Frontend Developer',
            'Backend Developer',
            'Mobile Developer',
            'DevOps Engineer',
            'Site Reliability Engineer',
            'Cloud Engineer',
            'Security Engineer',
            'Quality Assurance Engineer',
            
            // Data & AI
            'Data Scientist',
            'Machine Learning Engineer',
            'AI Research Scientist',
            'Data Engineer',
            'Business Intelligence Analyst',
            'Data Analyst',
            'Big Data Engineer',
            
            // Product & Design
            'Product Manager',
            'Product Owner',
            'UI/UX Designer',
            'User Experience Researcher',
            'Product Designer',
            'Visual Designer',
            'Interaction Designer',
            
            // Management & Leadership
            'Engineering Manager',
            'Technical Lead',
            'Project Manager',
            'Scrum Master',
            'CTO',
            'VP of Engineering',
            'Director of Engineering',
            'Technical Program Manager',
            
            // Specialized Roles
            'Blockchain Developer',
            'AR/VR Developer',
            'Game Developer',
            'Embedded Systems Engineer',
            'Systems Architect',
            'Network Engineer',
            'Database Administrator',
            'Technical Consultant',
            'Solutions Architect',
            'Enterprise Architect'
        ];

        const skills = [
            // Programming Languages
            'JavaScript',
            'Python',
            'Java',
            'C++',
            'C#',
            'Ruby',
            'Go',
            'Swift',
            'Kotlin',
            'PHP',
            'Rust',
            'TypeScript',
            
            // Web Technologies
            'HTML5',
            'CSS3',
            'React',
            'Angular',
            'Vue.js',
            'Node.js',
            'Express.js',
            'Django',
            'Flask',
            'Spring Boot',
            'ASP.NET',
            
            // Databases
            'SQL',
            'MySQL',
            'PostgreSQL',
            'MongoDB',
            'Redis',
            'Cassandra',
            'Oracle',
            'Microsoft SQL Server',
            
            // Cloud & DevOps
            'AWS',
            'Azure',
            'Google Cloud',
            'Docker',
            'Kubernetes',
            'Jenkins',
            'Git',
            'Terraform',
            'Ansible',
            
            // AI & Data Science
            'Machine Learning',
            'Deep Learning',
            'TensorFlow',
            'PyTorch',
            'Scikit-learn',
            'Natural Language Processing',
            'Computer Vision',
            'Data Analysis',
            'R',
            'Pandas',
            'NumPy',
            
            // Mobile Development
            'iOS Development',
            'Android Development',
            'React Native',
            'Flutter',
            'Xamarin',
            
            // Other Skills
            'Agile Methodologies',
            'Scrum',
            'RESTful APIs',
            'GraphQL',
            'Microservices',
            'System Design',
            'UI/UX Design',
            'Figma',
            'Adobe XD',
            'Sketch'
        ];

        const experienceLevels = [
            'Entry Level (0-2 years)',
            'Junior (2-4 years)',
            'Mid-Level (4-6 years)',
            'Senior (6-10 years)',
            'Lead (10-15 years)',
            'Principal (15+ years)',
            'Distinguished Engineer',
            'Fellow'
        ];

        // Initialize page
        window.addEventListener('load', () => {
            // Check authentication
            const userData = JSON.parse(localStorage.getItem('user'));
            if (!userData) {
                window.location.href = './index.html';
                return;
            }

            // Update user profile
            document.getElementById('userName').textContent = userData.username;
            document.getElementById('userRole').textContent = userData.role;

            // Load profile data
            const savedProfileData = localStorage.getItem('profileData');
            if (savedProfileData) {
                profileData = JSON.parse(savedProfileData);
                renderProfile();
            }
        });

        // Dropdown functionality
        function createDropdown(inputId, options) {
            const input = document.getElementById(inputId);
            const dropdownId = inputId + 'Dropdown';
            
            // Create dropdown if it doesn't exist
            if (!document.getElementById(dropdownId)) {
                const dropdown = document.createElement('div');
                dropdown.id = dropdownId;
                dropdown.className = 'dropdown-list';
                input.parentNode.appendChild(dropdown);
            }

            const dropdown = document.getElementById(dropdownId);
            
            input.addEventListener('input', () => {
                const value = input.value.toLowerCase();
                const filtered = options.filter(option => 
                    option.toLowerCase().includes(value)
                );

                if (filtered.length && value) {
                    dropdown.innerHTML = filtered
                        .map(option => `<div class="dropdown-item">${option}</div>`)
                        .join('');
                    dropdown.style.display = 'block';
                } else {
                    dropdown.style.display = 'none';
                }
            });

            dropdown.addEventListener('click', (e) => {
                if (e.target.className === 'dropdown-item') {
                    input.value = e.target.textContent;
                    dropdown.style.display = 'none';
                }
            });

            // Hide dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (e.target !== input) {
                    dropdown.style.display = 'none';
                }
            });
        }

        // Modal functions
        function openModal(type, subtype = '') {
            const modal = document.getElementById('formModal');
            const modalContent = document.getElementById('modalContent');
            modal.classList.add('active');

            switch (type) {
                case 'education':
                    modalContent.innerHTML = `
                        <h2>Add Education</h2>
                        <form id="educationForm" onsubmit="saveEducation(event)">
                            <div class="form-group">
                                <label for="school">School/University</label>
                                <input type="text" id="school" class="form-input" required placeholder="Start typing to see suggestions">
                            </div>
                            <div class="form-group">
                                <label for="degree">Degree</label>
                                <input type="text" id="degree" class="form-input" required placeholder="Start typing to see suggestions">
                            </div>
                            <div class="form-group">
                                <label for="field">Field of Study</label>
                                <input type="text" id="field" class="form-input" required placeholder="Start typing to see suggestions">
                            </div>
                            <div class="form-group">
                                <label for="eduStartDate">Start Date</label>
                                <input type="date" id="eduStartDate" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label for="eduEndDate">End Date</label>
                                <input type="date" id="eduEndDate" class="form-input">
                            </div>
                            <button type="submit" class="save-button">Save Education</button>
                        </form>
                    `;
                    // Initialize dropdowns for education fields
                    setTimeout(() => {
                        createDropdown('school', universities);
                        createDropdown('degree', degrees);
                        createDropdown('field', fields);
                    }, 0);
                    break;

                case 'experience':
                    modalContent.innerHTML = `
                        <h2>Add Work Experience</h2>
                        <form id="experienceForm" onsubmit="saveExperience(event)">
                            <div class="form-group">
                                <label for="company">Company</label>
                                <input type="text" id="company" class="form-input" required placeholder="Start typing to see suggestions">
                            </div>
                            <div class="form-group">
                                <label for="position">Position</label>
                                <input type="text" id="position" class="form-input" required placeholder="Start typing to see suggestions">
                            </div>
                            <div class="form-group">
                                <label for="experienceLevel">Experience Level</label>
                                <select id="experienceLevel" class="experience-level" required>
                                    <option value="">Select Experience Level</option>
                                    ${experienceLevels.map(level => 
                                        `<option value="${level}">${level}</option>`
                                    ).join('')}
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="expStartDate">Start Date</label>
                                <input type="date" id="expStartDate" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label for="expEndDate">End Date</label>
                                <input type="date" id="expEndDate" class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="description">Description</label>
                                <textarea id="description" class="form-input" rows="4"></textarea>
                            </div>
                            <button type="submit" class="save-button">Save Experience</button>
                        </form>
                    `;
                    // Initialize dropdowns for experience fields
                    setTimeout(() => {
                        createDropdown('company', companies);
                        createDropdown('position', positions);
                    }, 0);
                    break;

                case 'skill':
                    modalContent.innerHTML = `
                        <h2>Add Skill</h2>
                        <form id="skillForm" onsubmit="saveSkill(event)">
                            <div class="form-group">
                                <label for="skill">Skill Name</label>
                                <input type="text" id="skill" class="form-input" required placeholder="Start typing to see suggestions">
                            </div>
                            <button type="submit" class="save-button">Add Skill</button>
                        </form>
                    `;
                    // Initialize dropdown for skills
                    setTimeout(() => {
                        createDropdown('skill', skills);
                    }, 0);
                    break;

                case 'social':
                    const platform = subtype.charAt(0).toUpperCase() + subtype.slice(1);
                    modalContent.innerHTML = `
                        <h2>Add ${platform} Profile</h2>
                        <form id="socialForm" onsubmit="saveSocialLink(event, '${subtype}')">
                            <div class="form-group">
                                <label for="socialUrl">${platform} URL</label>
                                <input type="url" id="socialUrl" class="form-input" required 
                                       value="${profileData.social[subtype]}">
                            </div>
                            <button type="submit" class="save-button">Save Link</button>
                        </form>
                    `;
                    break;
            }
        }

        function closeModal() {
            document.getElementById('formModal').classList.remove('active');
        }

        // Save functions
        function saveEducation(event) {
            event.preventDefault();
            const education = {
                school: document.getElementById('school').value,
                degree: document.getElementById('degree').value,
                field: document.getElementById('field').value,
                startDate: document.getElementById('eduStartDate').value,
                endDate: document.getElementById('eduEndDate').value || 'Present'
            };
            profileData.education.push(education);
            saveAndRender();
            closeModal();
        }

        function saveExperience(event) {
            event.preventDefault();
            const experience = {
                company: document.getElementById('company').value,
                position: document.getElementById('position').value,
                experienceLevel: document.getElementById('experienceLevel').value,
                startDate: document.getElementById('expStartDate').value,
                endDate: document.getElementById('expEndDate').value || 'Present',
                description: document.getElementById('description').value
            };
            profileData.experience.push(experience);
            saveAndRender();
            closeModal();
        }

        function saveSkill(event) {
            event.preventDefault();
            const skill = document.getElementById('skill').value;
            if (!profileData.skills.includes(skill)) {
                profileData.skills.push(skill);
                saveAndRender();
            }
            closeModal();
        }

        function saveSocialLink(event, platform) {
            event.preventDefault();
            const url = document.getElementById('socialUrl').value;
            profileData.social[platform] = url;
            saveAndRender();
            closeModal();
        }

        // Delete functions
        function deleteEducation(index) {
            profileData.education.splice(index, 1);
            saveAndRender();
        }

        function deleteExperience(index) {
            profileData.experience.splice(index, 1);
            saveAndRender();
        }

        function deleteSkill(skill) {
            profileData.skills = profileData.skills.filter(s => s !== skill);
            saveAndRender();
        }

        // Render functions
        function renderProfile() {
            // Render education
            const educationList = document.getElementById('educationList');
            educationList.innerHTML = profileData.education.map((edu, index) => `
                <div class="item-card">
                    <div class="item-header">
                        <div>
                            <div class="item-title">${edu.school}</div>
                            <div class="item-subtitle">${edu.degree} in ${edu.field}</div>
                            <div class="item-date">${edu.startDate} - ${edu.endDate}</div>
                        </div>
                    </div>
                    <div class="item-actions">
                        <button class="action-button" onclick="deleteEducation(${index})">×</button>
                    </div>
                </div>
            `).join('');

            // Render experience
            const experienceList = document.getElementById('experienceList');
            experienceList.innerHTML = profileData.experience.map((exp, index) => `
                <div class="item-card">
                    <div class="item-header">
                        <div>
                            <div class="item-title">${exp.position}</div>
                            <div class="item-subtitle">${exp.company}</div>
                            <div class="item-date">${exp.startDate} - ${exp.endDate}</div>
                        </div>
                    </div>
                    <div class="item-description">${exp.description}</div>
                    <div class="item-actions">
                        <button class="action-button" onclick="deleteExperience(${index})">×</button>
                    </div>
                </div>
            `).join('');

            // Render skills
            const skillsList = document.getElementById('skillsList');
            skillsList.innerHTML = profileData.skills.map(skill => `
                <div class="skill-tag">
                    ${skill}
                    <button class="action-button" onclick="deleteSkill('${skill}')">×</button>
                </div>
            `).join('');

            // Update social links
            const linkedinUrl = document.getElementById('linkedinUrl');
            const githubUrl = document.getElementById('githubUrl');
            linkedinUrl.textContent = profileData.social.linkedin || 'Add LinkedIn Profile';
            githubUrl.textContent = profileData.social.github || 'Add GitHub Profile';

            if (profileData.social.linkedin) {
                document.getElementById('linkedinLink').href = profileData.social.linkedin;
            }
            if (profileData.social.github) {
                document.getElementById('githubLink').href = profileData.social.github;
            }
        }

        function saveAndRender() {
            localStorage.setItem('profileData', JSON.stringify(profileData));
            renderProfile();
        }
    </script>
</body>
</html> 